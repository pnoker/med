<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sooware.med.dao.ArticleMapper">
  <resultMap id="BaseResultMap" type="com.sooware.med.model.Article">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="app_id" jdbcType="VARCHAR" property="appId" />
    <result column="type" jdbcType="INTEGER" property="type" />
    <result column="logo" jdbcType="VARCHAR" property="logo" />
    <result column="title" jdbcType="VARCHAR" property="title" />
    <result column="summary" jdbcType="VARCHAR" property="summary" />
    <result column="upper_org" jdbcType="VARCHAR" property="upperOrg" />
    <result column="organizer" jdbcType="VARCHAR" property="organizer" />
    <result column="mag_way" jdbcType="VARCHAR" property="magWay" />
    <result column="mag_level" jdbcType="VARCHAR" property="magLevel" />
    <result column="met_date" jdbcType="VARCHAR" property="metDate" />
    <result column="met_addr" jdbcType="VARCHAR" property="metAddr" />
    <result column="content" jdbcType="VARCHAR" property="content" />
    <result column="at_time" jdbcType="TIMESTAMP" property="atTime" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, app_id, type, logo, title, summary, upper_org, organizer, mag_way, mag_level, 
    met_date, met_addr, content, at_time
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from article
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from article
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.sooware.med.model.Article">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into article (id, app_id, type, 
      logo, title, summary, 
      upper_org, organizer, mag_way, 
      mag_level, met_date, met_addr, 
      content, at_time)
    values (#{id,jdbcType=INTEGER}, #{appId,jdbcType=VARCHAR}, #{type,jdbcType=INTEGER}, 
      #{logo,jdbcType=VARCHAR}, #{title,jdbcType=VARCHAR}, #{summary,jdbcType=VARCHAR}, 
      #{upperOrg,jdbcType=VARCHAR}, #{organizer,jdbcType=VARCHAR}, #{magWay,jdbcType=VARCHAR}, 
      #{magLevel,jdbcType=VARCHAR}, #{metDate,jdbcType=VARCHAR}, #{metAddr,jdbcType=VARCHAR}, 
      #{content,jdbcType=VARCHAR}, #{atTime,jdbcType=TIMESTAMP})
  </insert>
  <insert id="insertSelective" parameterType="com.sooware.med.model.Article">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into article
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="appId != null">
        app_id,
      </if>
      <if test="type != null">
        type,
      </if>
      <if test="logo != null">
        logo,
      </if>
      <if test="title != null">
        title,
      </if>
      <if test="summary != null">
        summary,
      </if>
      <if test="upperOrg != null">
        upper_org,
      </if>
      <if test="organizer != null">
        organizer,
      </if>
      <if test="magWay != null">
        mag_way,
      </if>
      <if test="magLevel != null">
        mag_level,
      </if>
      <if test="metDate != null">
        met_date,
      </if>
      <if test="metAddr != null">
        met_addr,
      </if>
      <if test="content != null">
        content,
      </if>
      <if test="atTime != null">
        at_time,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=INTEGER},
      </if>
      <if test="appId != null">
        #{appId,jdbcType=VARCHAR},
      </if>
      <if test="type != null">
        #{type,jdbcType=INTEGER},
      </if>
      <if test="logo != null">
        #{logo,jdbcType=VARCHAR},
      </if>
      <if test="title != null">
        #{title,jdbcType=VARCHAR},
      </if>
      <if test="summary != null">
        #{summary,jdbcType=VARCHAR},
      </if>
      <if test="upperOrg != null">
        #{upperOrg,jdbcType=VARCHAR},
      </if>
      <if test="organizer != null">
        #{organizer,jdbcType=VARCHAR},
      </if>
      <if test="magWay != null">
        #{magWay,jdbcType=VARCHAR},
      </if>
      <if test="magLevel != null">
        #{magLevel,jdbcType=VARCHAR},
      </if>
      <if test="metDate != null">
        #{metDate,jdbcType=VARCHAR},
      </if>
      <if test="metAddr != null">
        #{metAddr,jdbcType=VARCHAR},
      </if>
      <if test="content != null">
        #{content,jdbcType=VARCHAR},
      </if>
      <if test="atTime != null">
        #{atTime,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.sooware.med.model.Article">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update article
    <set>
      <if test="appId != null">
        app_id = #{appId,jdbcType=VARCHAR},
      </if>
      <if test="type != null">
        type = #{type,jdbcType=INTEGER},
      </if>
      <if test="logo != null">
        logo = #{logo,jdbcType=VARCHAR},
      </if>
      <if test="title != null">
        title = #{title,jdbcType=VARCHAR},
      </if>
      <if test="summary != null">
        summary = #{summary,jdbcType=VARCHAR},
      </if>
      <if test="upperOrg != null">
        upper_org = #{upperOrg,jdbcType=VARCHAR},
      </if>
      <if test="organizer != null">
        organizer = #{organizer,jdbcType=VARCHAR},
      </if>
      <if test="magWay != null">
        mag_way = #{magWay,jdbcType=VARCHAR},
      </if>
      <if test="magLevel != null">
        mag_level = #{magLevel,jdbcType=VARCHAR},
      </if>
      <if test="metDate != null">
        met_date = #{metDate,jdbcType=VARCHAR},
      </if>
      <if test="metAddr != null">
        met_addr = #{metAddr,jdbcType=VARCHAR},
      </if>
      <if test="content != null">
        content = #{content,jdbcType=VARCHAR},
      </if>
      <if test="atTime != null">
        at_time = #{atTime,jdbcType=TIMESTAMP},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.sooware.med.model.Article">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update article
    set app_id = #{appId,jdbcType=VARCHAR},
      type = #{type,jdbcType=INTEGER},
      logo = #{logo,jdbcType=VARCHAR},
      title = #{title,jdbcType=VARCHAR},
      summary = #{summary,jdbcType=VARCHAR},
      upper_org = #{upperOrg,jdbcType=VARCHAR},
      organizer = #{organizer,jdbcType=VARCHAR},
      mag_way = #{magWay,jdbcType=VARCHAR},
      mag_level = #{magLevel,jdbcType=VARCHAR},
      met_date = #{metDate,jdbcType=VARCHAR},
      met_addr = #{metAddr,jdbcType=VARCHAR},
      content = #{content,jdbcType=VARCHAR},
      at_time = #{atTime,jdbcType=TIMESTAMP}
    where id = #{id,jdbcType=INTEGER}
  </update>
	<!-- 通过appId筛选出某个医生的文章 -->
	<select id="selectMagazine" parameterType="com.sooware.med.bean.BizQuery" resultType="com.sooware.med.bean.BizQuery">
		select id,logo,title,upper_org as
		upperOrg,organizer,mag_way as magWay from article where type=1 order
		by at_time desc
	</select>
	<select id="selectMagazineId" parameterType="java.lang.String" resultType="com.sooware.med.bean.BizQuery">
		select
		<include refid="Base_Column_List" />
		logo,title,content,at_time as atTime from article
		where id=
		#{id,jdbcType=INTEGER}
	</select>
	<select id="selectMeeting" parameterType="com.sooware.med.bean.BizQuery" resultType="com.sooware.med.bean.BizQuery">
		select id,summary,title,at_time as
		atTime,organizer,met_date as
		metDate,met_addr as metAddr from article
		where type=2 order by at_time
		desc
	</select>
	<select id="selectArticle" parameterType="com.sooware.med.bean.BizQuery" resultType="com.sooware.med.bean.BizQuery">
		select id,logo,title,summary,at_time as atTime from
		article
		where type=4 ORDER by at_time desc
	</select>
	<select id="selectArticleId" parameterType="java.lang.String" resultType="com.sooware.med.bean.BizQuery">
		select logo,title,content,at_time as atTime from article
		where id= #{id,jdbcType=INTEGER}
	</select>
	<select id="selectActive" parameterType="com.sooware.med.bean.BizQuery" resultType="com.sooware.med.bean.BizQuery">
		select id,logo,title,summary,date_format(at_time,'%m月%d日') as time from
		article
		where type=3 ORDER by at_time desc
	</select>
	<select id="selectActiveId" parameterType="java.lang.String" resultType="com.sooware.med.bean.BizQuery">
		select logo,title,content,at_time as atTime from article
		where id= #{id,jdbcType=INTEGER}
	</select>
	<insert id="insertByArticle" parameterType="java.lang.String">
		insert into article
		(type,title,logo,summary,at_time)values
		(3,#{title,jdbcType=VARCHAR},#{logo,jdbcType=VARCHAR},#{summary,jdbcType=VARCHAR},#{atTime,jdbcType=TIMESTAMP})
	</insert>
</mapper>